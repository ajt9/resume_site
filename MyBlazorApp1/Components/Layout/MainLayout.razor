@inherits LayoutComponentBase
@using MyBlazorApp1.Components
@implements IAsyncDisposable

<div class="page">
    <main>
        <div class="top-row px-4">
            <h1>AJ TOMALINO</h1>
            <h3>Computer Science Student</h3>
            @foreach (var star in shootingStars)
            {
                <div class="shooting-star" style="@star.GetAnimationStyle()"></div>
            }
            <div class="nav-links">
                <a href="/">Home</a>
                <a href="counter">Counter</a>
                <a href="skills">Skills</a>
            </div>
        </div>

        <article class="content px-4">
            <br/>
            @Body
        </article>
    </main>
</div>

<div id="blazor-error-ui" data-nosnippet>
    An unhandled error has occurred.
    <a href="." class="reload">Reload</a>
    <span class="dismiss">🗙</span>
</div>

@code {
    private List<ShootingStar> shootingStars = new();
    private Random random = new Random();

    protected override void OnInitialized()
    {
        // Generate 15 shooting stars for more frequent appearances
        for (int i = 0; i < 25; i++)
        {
            shootingStars.Add(new ShootingStar(i, random));
        }
    }

    async ValueTask IAsyncDisposable.DisposeAsync()
    {
        // Cleanup if needed
        await Task.CompletedTask;
    }
}
